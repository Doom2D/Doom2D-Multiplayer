<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<event category="DESTROY" id="0">
  <actions>
    <action id="603" library="1">
      <!--action name: Code-->
      <kind>CODE</kind>
      <allowRelative>false</allowRelative>
      <question>false</question>
      <canApplyTo>true</canApplyTo>
      <actionType>CODE</actionType>
      <functionName/>
      <relative>false</relative>
      <not>false</not>
      <appliesTo>.self</appliesTo>
      <arguments>
        <argument kind="STRING">//remove nick from taken nick list
ds_list_delete(global.name_taken, list_get_ind('name_taken', cl_name));

//DED
if !dead
{
    if kill_type != 12 &amp;&amp; w &gt; 1 &amp;&amp; global.mp_itemdrop
    {
        i = item_find_slot();
        o = instance_create(x - 32, y - 16, o_item);
        o.item_id = i;
        if w &gt;= 5 {o.item = w + 20;} else {o.item = w + 19;}
        o.drop = 1;
        global.sv_itm[i] = o;
        item_send_create(i, o.item, x - 32, y - 16);
    }
    if kill_type != 12 &amp;&amp; st_bpk &amp;&amp; global.mp_itemdrop
    {
        i = item_find_slot();
        o = instance_create(x - 32, y - 16, o_item);
        o.item_id = i;
        o.item = 10;
        o.drop = 1;
        global.sv_itm[i] = o;
        item_send_create(i, o.item, x - 32, y - 16);
    }   
    plr_send_effect(3, x, y);
    plr_send_sound(20, x, y);
}

dll39_socket_close(cl_tcp);
</argument>
      </arguments>
    </action>
  </actions>
</event>
