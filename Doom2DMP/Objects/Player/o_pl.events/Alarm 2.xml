<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<event category="ALARM" id="2">
  <actions>
    <action id="603" library="1">
      <!--action name: Code-->
      <kind>CODE</kind>
      <allowRelative>false</allowRelative>
      <question>false</question>
      <canApplyTo>true</canApplyTo>
      <actionType>CODE</actionType>
      <functionName/>
      <relative>false</relative>
      <not>false</not>
      <appliesTo>.self</appliesTo>
      <arguments>
        <argument kind="STRING">if st_ber &amp;&amp; global.r_gfx &amp;&amp; (!st_vis || (cl_team == global.cl_inst.cl_team &amp;&amp; global.mp_gamemode) || id == global.cl_inst)
{
    a = instance_create(x, y, o_smoke);
    a.image_blend = c_maroon;
    a.image_angle = irandom(360);
    a.vspeed = random_range(-1, -0.1);
}

if st_inv {image_alpha = 0.3;}

if st_vis {if dname || (cl_team == global.cl_inst.cl_team &amp;&amp; global.mp_gamemode) || id == global.cl_inst {image_alpha = 0.13;} else {image_alpha = 0;};}
if !st_vis &amp;&amp; !st_inv {image_alpha = 1;}

alarm[2] = 30;
</argument>
      </arguments>
    </action>
  </actions>
</event>
